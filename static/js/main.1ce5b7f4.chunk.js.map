{"version":3,"sources":["../todoreactnew/src/Todo.js","../todoreactnew/src/NewTodo.js","../todoreactnew/src/App.js","../todoreactnew/src/index.js"],"names":["Todo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sendComplete","bind","assertThisInitialized","sendDelete","completeTodo","id","completed","deleteTodo","className","react_default","a","createElement","onClick","text","Component","NewTodo","onSubmit","addTodo","placeholder","value","input","onChange","App","state","todos","sort","event","setState","target","self","createRequest","XMLHttpRequest","onreadystatechange","readyState","status","todoList","JSON","parse","responseText","open","setRequestHeader","send","newTodoText","preventDefault","returnedTodo","push","console","log","proxyurl","stringify","todoID","data","editRequest","newTodos","todo","thisTodo","apiurl","deleteRequest","sorted","b","parseFloat","created","_this2","src_NewTodo_0","map","src_Todo_0","key","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.1ce5b7f4.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Todo.css';\n\nclass Todo extends Component {\n  constructor(props){\n    super(props);\n    this.sendComplete = this.sendComplete.bind(this);\n    this.sendDelete = this.sendDelete.bind(this);\n  }\n  sendComplete(){\n    this.props.completeTodo(this.props.id, !this.props.completed);\n  }\n  sendDelete(){\n    this.props.deleteTodo(this.props.id);\n  }\n\n  render() {\n    var className = '';\n    if(this.props.completed){\n      className = 'completed';\n    }\n    return (\n      <article id=\"this.props.id\" className=\"todo\">\n        <button className=\"complete\" onClick={this.sendComplete}></button>\n          <p className={className}>{this.props.text}</p>\n        <button className=\"remove\" onClick={this.sendDelete}>Remove</button>\n      </article>\n    );\n  }\n}\n\nexport default Todo;\n","import React, { Component } from 'react';\nimport './NewTodo.css';\n\nclass NewTodo extends Component {\n  render() {\n    return (\n      <div id=\"inputform\">\n          <form id=\"newTodoForm\" onSubmit={this.props.addTodo}>\n            <input id=\"newTodoItem\" placeholder=\"New Todo Task\" value={this.props.input} onChange={this.props.onChange}></input>\n            <button id=\"addButton\" onClick={this.props.addTodo}>add</button>\n          </form>\n      </div>\n    );\n  }\n}\n\nexport default NewTodo;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Todo from './Todo';\nimport NewTodo from './NewTodo';\n\nclass App extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        todos: []\n      }\n      this.onChange = this.onChange.bind(this);\n      this.addTodo = this.addTodo.bind(this);\n      this.completeTodo = this.completeTodo.bind(this);\n      this.deleteTodo = this.deleteTodo.bind(this);\n      this.sort = this.sort.bind(this);\n    }\n\n    onChange(event) {\n      this.setState({\n        input: event.target.value\n      });\n    }\n\n  componentDidMount() { // loading my todos -- on load\n    var self = this;\n    var createRequest = new XMLHttpRequest();\n    var apiKey = \"63c8781cb57d5a1dd3c693f8eb6ac6f7df70b75acaeab31ccdd9952de8554e29\";\n\n    createRequest.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n      // save new Todo to state\n        var todoList = (JSON.parse(this.responseText));\n        self.setState({\n            todos: todoList\n        });\n      // clear the input field\n      self.setState({input: ''});\n      }\n    }\n    createRequest.open(\"GET\", \"https://api.kraigh.net/todos\", true);\n    createRequest.setRequestHeader(\"x-api-key\",apiKey);\n    createRequest.send();\n  }\n\n  addTodo(event){\n    // read the input value from state\n    const newTodoText = {text: this.state.input};\n    var apiKey = \"63c8781cb57d5a1dd3c693f8eb6ac6f7df70b75acaeab31ccdd9952de8554e29\";\n\n    // Do AJAX\n    var self = this;\n    event.preventDefault();\n\n    var createRequest = new XMLHttpRequest();\n    createRequest.onreadystatechange =  function(){\n      if(this.readyState === 4 && this.status === 200){\n        var returnedTodo = (JSON.parse(this.responseText));\n        var todos = self.state.todos;\n        todos.push(returnedTodo);\n        self.setState({todos: todos});\n      }else if(this.readyState === 4){\n        console.log(this.responseText);\n      }\n    }\n\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const apiurl = \"https://api.kraigh.net/todos\";\n    createRequest.open(\"POST\", proxyurl + apiurl, true);\n    createRequest.setRequestHeader(\"Content-type\", \"application/json\");\n    createRequest.setRequestHeader(\"x-api-key\", apiKey);\n    createRequest.send(JSON.stringify(newTodoText));\n\n    // Inside your AJAX success\n    this.state.input = '';\n  }\n\n  completeTodo(todoID, completed){\n    var apiKey = \"63c8781cb57d5a1dd3c693f8eb6ac6f7df70b75acaeab31ccdd9952de8554e29\";\n\n    var data = {\n      completed: completed\n    };\n    var self = this;\n    //API call to PUT - to set completed to true\n    var editRequest = new XMLHttpRequest();\n    editRequest.onreadystatechange = function(){\n      if(this.readyState === 4 && this.status === 200){\n        var newTodos = [];\n        for(var todo in self.state.todos){\n          const thisTodo = self.state.todos[todo];\n          if(self.state.todos[todo].id === todoID){\n            thisTodo.completed = completed;\n          }\n          newTodos.push(thisTodo);\n\n        }\n        self.setState({todos: newTodos});\n      }else if(this.readyState === 4){\n\n      }\n    }\n    const apiurl = \"https://api.kraigh.net/todos/\" + todoID;\n    editRequest.open(\"PUT\", apiurl, true);\n    editRequest.setRequestHeader(\"Content-type\", \"application/json\");\n    editRequest.setRequestHeader(\"x-api-key\", apiKey);\n    editRequest.send(JSON.stringify(data));\n  }\n\n  deleteTodo(todoID){\n    var apiKey = \"63c8781cb57d5a1dd3c693f8eb6ac6f7df70b75acaeab31ccdd9952de8554e29\";\n\n    var deleteRequest = new XMLHttpRequest();\n    var self = this;\n    deleteRequest.onreadystatechange = function(){\n      if(this.readyState === 4 && this.status === 200){\n        var newTodos = [];\n        for(var todo in self.state.todos){\n          if(self.state.todos[todo].id !== todoID){\n            newTodos.push(self.state.todos[todo]);\n          }\n        }\n        self.setState({todos: newTodos});\n      }else if(this.readyState === 4){\n\n      }\n    }\n    deleteRequest.open(\"DELETE\", \"https://api.kraigh.net/todos/\" + todoID, true);\n    deleteRequest.setRequestHeader(\"Content-type\", \"application/json\");\n    deleteRequest.setRequestHeader(\"x-api-key\", apiKey);\n    deleteRequest.send();\n  }\n\n  sort(event){\n    var self = this;\n\n    const sorted = self.state.todos.sort(function (a, b) {\n      return parseFloat(b.created) - parseFloat(a.created);\n    });\n\n    self.setState({todos: sorted});\n  }\n\n  render() {\n    {console.log(this.state.todos)}\n    return (\n      <div>\n        <section id=\"ToDoList\">\n          <button id=\"sortButton\" onClick={this.sort}>Sort</button>\n          <NewTodo addTodo={this.addTodo} onChange={this.onChange} input={this.state.input} />\n\n          {this.state.todos.map((todo) =>\n            <Todo key={todo.id} id={todo.id} completed={todo.completed} text={todo.text} deleteTodo={this.deleteTodo} completeTodo={this.completeTodo}/>\n          )}\n        </section>\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}